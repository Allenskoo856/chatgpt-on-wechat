# è±†åŒ… Seedream 4.0 å›¾åƒç”Ÿæˆæ¨¡å‹é›†æˆè¯´æ˜

## ğŸ¯ åŠŸèƒ½æ¦‚è¿°

æœ¬é¡¹ç›®ç°å·²æ”¯æŒç«å±±å¼•æ“è±†åŒ…çš„ `doubao-seedream-4.0` å›¾åƒç”Ÿæˆæ¨¡å‹ï¼Œä¸ç°æœ‰çš„ DALL-E-2 å’Œ DALL-E-3 æ¨¡å‹å½¢æˆå®Œæ•´çš„å›¾åƒç”Ÿæˆè§£å†³æ–¹æ¡ˆã€‚

## ğŸ”§ é…ç½®æ–¹æ³•

### 1. ä¿®æ”¹é…ç½®æ–‡ä»¶

åœ¨ `config.json` ä¸­è®¾ç½®ï¼š

```json
{
  "text_to_image": "doubao-seedream-4.0",
  "open_ai_api_base": "https://ark.cn-beijing.volces.com/api/v3",
  "open_ai_api_key": "YOUR_VOLCANO_API_KEY",
  "image_create_prefix": ["ç”»"],
  "image_create_size": "1024x1024",
  "doubao_image_quality": "standard"
}
```

```json
{
  "text_to_image": "doubao-seedream-4-0-250828",
  "open_ai_api_base": "https://ark.cn-beijing.volces.com/api/v3",
  "open_ai_api_key": "YOUR_VOLCANO_API_KEY",
  "image_create_prefix": ["ç”»"],
  "image_create_size": "1024x1024",
  "doubao_watermark": true
}
```

### 2. æ”¯æŒçš„é…ç½®é¡¹

- `text_to_image`: è®¾ç½®ä¸º `"doubao-seedream-4-0-250828"` å¯ç”¨è±†åŒ…å›¾åƒç”Ÿæˆ
- `image_create_size`: å›¾åƒå°ºå¯¸ï¼Œæ”¯æŒ `"1024x1024"`, `"512x512"`, `"2K"` ç­‰
- `doubao_watermark`: æ˜¯å¦æ·»åŠ æ°´å°ï¼Œé»˜è®¤ `true`
- `open_ai_api_base`: ç«å±±å¼•æ“ API åŸºç¡€ URL
- `open_ai_api_key`: ç«å±±å¼•æ“ API å¯†é’¥

## ğŸ“ ä½¿ç”¨æ–¹æ³•

åœ¨èŠå¤©ç•Œé¢ä¸­ï¼Œä»¥ "ç”»" å¼€å¤´çš„æ¶ˆæ¯ä¼šè§¦å‘å›¾åƒç”Ÿæˆï¼š

```
ç”»ä¸€ä¸ªç¾ä¸½çš„é£æ™¯
ç”»ä¸€åªå¯çˆ±çš„å°çŒ«
ç”»ä¸€å¹…æŠ½è±¡è‰ºæœ¯ä½œå“
```

## ğŸ”„ æ”¯æŒçš„æ¨¡å‹

ç°åœ¨é¡¹ç›®æ”¯æŒä»¥ä¸‹å›¾åƒç”Ÿæˆæ¨¡å‹ï¼š

1. **DALL-E-2** (`dall-e-2`) - OpenAI ç»å…¸å›¾åƒç”Ÿæˆæ¨¡å‹
2. **DALL-E-3** (`dall-e-3`) - OpenAI æœ€æ–°å›¾åƒç”Ÿæˆæ¨¡å‹  
3. **è±†åŒ… Seedream 4.0** (`doubao-seedream-4-0-250828`) - ç«å±±å¼•æ“å›¾åƒç”Ÿæˆæ¨¡å‹

## ğŸ› ï¸ æŠ€æœ¯å®ç°

### ä»£ç ç»“æ„

1. **å¸¸é‡å®šä¹‰** (`common/const.py`)
   - æ·»åŠ äº† `DOUBAO_SEEDREAM_4_0` å¸¸é‡

2. **ä¸»è¦å®ç°** (`bot/chatgpt/chat_gpt_bot.py`)
   - `create_img_doubao()` - è±†åŒ…å›¾åƒç”Ÿæˆä¸»æ–¹æ³•
   - `create_img()` - ç»Ÿä¸€çš„å›¾åƒç”Ÿæˆè·¯ç”±æ–¹æ³•
   - æ”¯æŒé‡è¯•æœºåˆ¶å’Œé”™è¯¯å¤„ç†

3. **API è°ƒç”¨æµç¨‹**
   ```
   ç”¨æˆ·è¯·æ±‚ â†’ create_img() â†’ create_img_doubao() â†’ ç«å±±å¼•æ“ API â†’ è¿”å›å›¾åƒ URL
   ```

## ğŸš€ ç‰¹æ€§ä¼˜åŠ¿

- **å¤šæ¨¡å‹æ”¯æŒ**: å¯ä»¥æ ¹æ®éœ€è¦çµæ´»åˆ‡æ¢ä¸åŒçš„å›¾åƒç”Ÿæˆæ¨¡å‹
- **ç»Ÿä¸€æ¥å£**: æ‰€æœ‰å›¾åƒç”Ÿæˆæ¨¡å‹ä½¿ç”¨ç›¸åŒçš„è°ƒç”¨æ–¹å¼
- **é”™è¯¯å¤„ç†**: å®Œå–„çš„é”™è¯¯å¤„ç†å’Œé‡è¯•æœºåˆ¶
- **é…ç½®çµæ´»**: æ”¯æŒå¤šç§å›¾åƒå°ºå¯¸å’Œè´¨é‡è®¾ç½®

## ğŸ“‹ æ³¨æ„äº‹é¡¹

1. éœ€è¦æœ‰æ•ˆçš„ç«å±±å¼•æ“ API å¯†é’¥
2. ç¡®ä¿ç½‘ç»œå¯ä»¥è®¿é—®ç«å±±å¼•æ“ API æœåŠ¡
3. å›¾åƒç”Ÿæˆå¯èƒ½éœ€è¦ä¸€å®šæ—¶é—´ï¼Œè¯·è€å¿ƒç­‰å¾…
4. å»ºè®®æ ¹æ®å®é™…éœ€æ±‚è°ƒæ•´å›¾åƒè´¨é‡å’Œå°ºå¯¸è®¾ç½®

## ğŸ” è°ƒè¯•ä¿¡æ¯

æ—¥å¿—ä¸­ä¼šæ˜¾ç¤ºä»¥ä¸‹ä¿¡æ¯ï¼š
- `[DOUBAO] å›¾åƒç”Ÿæˆè¯·æ±‚: {prompt}` - è¯·æ±‚å¼€å§‹
- `[DOUBAO] å›¾åƒç”ŸæˆæˆåŠŸ: {url}` - ç”ŸæˆæˆåŠŸ
- `[DOUBAO] å›¾åƒç”Ÿæˆå¤±è´¥: {error}` - ç”Ÿæˆå¤±è´¥

## ğŸ†• æ›´æ–°è®°å½•

- **v1.0** - åˆå§‹é›†æˆè±†åŒ… Seedream 4.0 æ¨¡å‹
- æ”¯æŒåŸºç¡€å›¾åƒç”ŸæˆåŠŸèƒ½
- æ·»åŠ å®Œå–„çš„é”™è¯¯å¤„ç†å’Œé‡è¯•æœºåˆ¶